// === CHATBOT.JS ===
const chatMessages = document.getElementById("chat-messages");
const chatInput = document.getElementById("chat-input");
const sendButton = document.getElementById("send-message");

const chatbotResponses = {
  вступ:
    "Для вступу до ЕПФК ЗНУ вам необхідно подати заяву через електронний кабінет вступника, додати необхідні документи та сертифікати ЗНО/НМТ. Детальніше можна дізнатися на сайті коледжу в розділі 'Вступнику'.",
  документи:
    "Для вступу потрібні: паспорт, ІПН, свідоцтво про базову/повну загальну середню освіту з додатком, сертифікати ЗНО/НМТ (для вступу на основі 11 класів), 4 фотокартки 3х4 см, військовий квиток або приписне свідоцтво (для юнаків).",
  терміни:
    "Основні етапи вступної кампанії: реєстрація електронних кабінетів - з 1 липня, прийом заяв та документів - з 10 до 22 липня, вступні випробування - з 23 до 30 липня, оприлюднення рейтингових списків - 1 серпня, зарахування - до 10 серпня.",
  спеціальності:
    "ЕПФК ЗНУ пропонує широкий спектр спеціальностей на різних відділеннях. Для детальної інформації перейдіть на вкладку 'Довідник спеціальностей' на цій сторінці.",
  вартість:
    "Вартість навчання залежить від обраної спеціальності, форми та рівня навчання. Для розрахунку орієнтовної вартості скористайтеся вкладкою 'Калькулятор вартості' на цій сторінці.",
  гуртожиток:
    "ЕПФК ЗНУ надає місця в гуртожитках для іногородніх студентів. Місця надаються першочергово студентам першого курсу. Вартість проживання - від 700 до 1000 грн на місяць залежно від умов.",
  стипендія:
    "Академічна стипендія призначається студентам-бюджетникам за результатами сесії. Розмір - від 1100 до 1600 грн залежно від курсу та успішності. Також є соціальні стипендії для пільгових категорій студентів.",
  контакти:
    "Приймальна комісія: м. Запоріжжя, вул. Жуковського, 66, тел.: (061) 228-75-00, email: vstup@epfc.znu.edu.ua. Графік роботи: пн-пт з 9:00 до 17:00, сб з 9:00 до 13:00.",
  бюджет:
    "Кількість бюджетних місць визначається щороку Міністерством освіти і науки України. Розподіл відбувається за конкурсом відповідно до рейтингового бала вступників.",
  пільги:
    "Право на першочергове зарахування мають: діти-сироти, діти з інвалідністю, учасники бойових дій та їхні діти, внутрішньо переміщені особи та інші категорії відповідно до законодавства.",
};

function addMessage(message, isUser) {
  const messageDiv = document.createElement("div");
  messageDiv.className = `chatbot-message ${
    isUser ? "user-message" : "bot-message"
  }`;
  messageDiv.textContent = message;
  chatMessages.appendChild(messageDiv);
  chatMessages.scrollTop = chatMessages.scrollHeight;
}

function getBotResponse(message) {
  message = message.toLowerCase();

  for (const keyword in chatbotResponses) {
    if (message.includes(keyword)) {
      return chatbotResponses[keyword];
    }
  }

  return "Вибачте, я не маю інформації з цього питання. Спробуйте запитати про вступ, документи, терміни, спеціальності, вартість, гуртожиток, стипендію, контакти, бюджет або пільги.";
}

function sendMessage() {
  const message = chatInput.value.trim();
  if (message) {
    addMessage(message, true);
    chatInput.value = "";

    setTimeout(() => {
      const response = getBotResponse(message);
      addMessage(response, false);
    }, 500);
  }
}

sendButton.addEventListener("click", sendMessage);
chatInput.addEventListener("keypress", (e) => {
  if (e.key === "Enter") {
    sendMessage();
  }
});
